// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url = env("DATABASE_URL")
}

model Usuario {
  id_User Int @id @default(autoincrement())
  email String
  senha String
  user_name String @unique
  perfil Perfil[]
  publicacao Publicacao[]
}
model Perfil {
  id_User Int
  nome String
  sobrenome String
  genero String
  avatar String
  data_Nascimento DateTime
  qntd_Amigos Int
  nivel_Perfil Int
  tipo String
  genero_Musical String
  instru_Musical String
  usuario Usuario @relation(fields: [id_User], references: [id_User])
}

model Publicacao {
  Pub_id Int @id @default(autoincrement())
  id_User Int
  conteudo String
  data_horario DateTime
  img String
  usuario Usuario @relation(fields: [id_User], references: [id_User])
}

model Comentario {
  id_Coment Int @id @default(autoincrement())
  id_User Int
  data_horario DateTime
  conteudo      String
  user          Usuario    @relation(fields: [id_User], references: [id])
  Pub_id        Int
  Publi         Publicacao @relation(fields: [Pub_id], references: [id])
  Resp          Resposta[]
}

model Resposta {
  id_Resp       Int        @id @default(autoincrement())
  ata_horario   DateTime
  conteudo      String
  id_User       Int
  user          Usuario    @relation(fields: [id_User], references: [id])
  id_Comentario Int
  Coment        Comentario @relation(fields: [id_Comentario], references: [id])
} 

